{"version":3,"sources":["pages/Login.jsx","pages/Register.jsx","components/Todos.jsx","pages/Welcome.jsx","index.js"],"names":["handleErrors","response","a","ok","json","message","Error","Login","useState","username","setUsername","password","setPassword","error","setError","useContext","CredentialsContext","setCredentials","history","useHistory","className","to","type","placeholder","onChange","e","target","value","onClick","preventDefault","fetch","method","headers","body","JSON","stringify","then","push","catch","err","Register","Todos","todos","setTodos","todoText","setTodoText","credentials","useEffect","res","class","map","todo","index","checked","newTodoList","toggleTodo","text","splice","deleteTodo","onSubmit","newTodo","Welcome","React","createContext","App","credentialsState","Provider","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4995cc3a.chunk.js","sourcesContent":["import React, { useState, useContext } from 'react';\r\nimport { CredentialsContext } from '..';\r\nimport { useHistory } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const handleErrors = async (response) => {\r\n    if (!response.ok) {\r\n        const { message } = await response.json();\r\n        throw Error(message)\r\n    }\r\n    return response.json();\r\n}\r\n\r\nfunction Login() {\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n\r\n    const [, setCredentials] = useContext(CredentialsContext)\r\n\r\n    const login = (e) => {\r\n\r\n        e.preventDefault()\r\n        fetch(`https://todos-backend-prollyarth.herokuapp.com/login`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify({\r\n                username, password\r\n            })\r\n        }).then(handleErrors)\r\n        .then(() => {\r\n            setCredentials({\r\n                username,\r\n                password\r\n            })\r\n            history.push('/')\r\n        }).catch((err) => {\r\n            setError(err.message)\r\n        })\r\n    };\r\n\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center mt-14\">\r\n            <h1 className=\"text-6xl\">Login</h1>\r\n            <span className=\"mt-5\">Don't have an account? Register <Link to=\"/register\" className=\"underline text-secondary\">here</Link></span>\r\n            {<span className=\"text-red-600 mt-5\">{error}</span>}\r\n            <div className=\"form-control w-5/12\">\r\n                <label className=\"label\">\r\n                    <span className=\"label-text\">Username</span>\r\n                </label> \r\n                <input type=\"text\" placeholder=\"username\" className=\"input input-info input-bordered\" onChange={(e) => setUsername(e.target.value)}/> \r\n                <label className=\"label\">\r\n                    <span className=\"label-text\">Password</span>\r\n                </label> \r\n                <input type=\"password\" placeholder=\"password\" className=\"input input-info input-bordered\" onChange={(e) => setPassword(e.target.value)}/>\r\n                <button onClick={login}className=\"btn my-8 w-20 self-center\">Login</button>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import React, { useState, useContext } from 'react';\r\nimport { CredentialsContext } from '..';\r\nimport { useHistory } from 'react-router';\r\nimport { handleErrors } from './Login';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction Register() {\r\n\r\n    const [username, setUsername] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [error, setError] = useState(\"\");\r\n\r\n\r\n    const [, setCredentials] = useContext(CredentialsContext)\r\n\r\n    const register = (e) => {\r\n\r\n        if (username && password) {\r\n            e.preventDefault()\r\n            fetch(`https://todos-backend-prollyarth.herokuapp.com/register`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({\r\n                    username, password\r\n                })\r\n            }).then(handleErrors)\r\n            .then(() => {\r\n                setCredentials({\r\n                    username,\r\n                    password\r\n                })\r\n                history.push('/')\r\n            }).catch((err) => {\r\n                setError(err.message)\r\n            })\r\n        } else {\r\n            setError(\"Username and password should not be empty\")\r\n        }\r\n    };\r\n\r\n    const history = useHistory();\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center mt-14\">\r\n            <h1 className=\"text-6xl\">Register</h1>\r\n            <span className=\"mt-5\">Already have an account? Login <Link to=\"/login\" className=\"underline text-secondary\">here</Link></span>\r\n            {<span className=\"text-red-600 mt-5\">{error}</span>}\r\n            <div className=\"form-control w-5/12\">\r\n                <label className=\"label\">\r\n                    <span className=\"label-text\">Username</span>\r\n                </label> \r\n                <input type=\"text\" placeholder=\"username\" className=\"input input-info input-bordered\" onChange={(e) => setUsername(e.target.value)}/> \r\n                <label className=\"label\">\r\n                    <span className=\"label-text\">Password</span>\r\n                </label> \r\n                <input type=\"password\" placeholder=\"password\" className=\"input input-info input-bordered\" onChange={(e) => setPassword(e.target.value)}/>\r\n                <button onClick={register}className=\"btn my-8 w-20 self-center\">Register</button>\r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport { handleErrors } from '../pages/Login';\r\nimport { CredentialsContext } from '..';\r\n\r\nimport { MdRemoveCircleOutline } from \"react-icons/md\"\r\n\r\n\r\nfunction Todos() {\r\n\r\n    const [todos, setTodos] = useState([]);\r\n    const [todoText, setTodoText] = useState(\"\");\r\n    const [credentials] = useContext(CredentialsContext)\r\n\r\n    useEffect(() => {\r\n        fetch(`https://todos-backend-prollyarth.herokuapp.com/todos`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Basic ${credentials.username}:${credentials.password}`\r\n            }\r\n        }).then((res) => res.json())\r\n        .then(todos => setTodos(todos))\r\n    }, [])\r\n\r\n    const addTodo = (e) => {\r\n        e.preventDefault();\r\n        if (!todoText) return;\r\n\r\n        const newTodo = {checked: false, text: todoText}\r\n        setTodos([...todos, newTodo]);\r\n        setTodoText(\"\");\r\n        fetch(`https://todos-backend-prollyarth.herokuapp.com/todos`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Basic ${credentials.username}:${credentials.password}`\r\n            },\r\n            body: JSON.stringify({\r\n                todos\r\n            })\r\n        }).then(handleErrors)\r\n        .then(() => {});\r\n    }\r\n\r\n    const deleteTodo = (index) => {\r\n\r\n        const newTodoList = [...todos];\r\n        newTodoList.splice(index, 1);\r\n        setTodos(newTodoList)\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        fetch(`https://todos-backend-prollyarth.herokuapp.com/todos`, {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': `Basic ${credentials.username}:${credentials.password}`\r\n            },\r\n            body: JSON.stringify({\r\n                todos\r\n            })\r\n        }).then(handleErrors)\r\n        .then(() => {});\r\n    }, [todos])\r\n\r\n    const toggleTodo = (index) => {\r\n        const newTodoList = [...todos];\r\n        newTodoList[index].checked = !newTodoList[index].checked;\r\n        setTodos(newTodoList)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div class=\"p-6 card bordered shadow-lg mt-12\">\r\n                <div className=\"form-control\">\r\n                    {todos.map((todo, index) => (\r\n                        <label className=\"cursor-pointer label\">\r\n                            <input checked={todo.checked} className=\"toggle\" onChange={() => toggleTodo(index)} type=\"checkbox\"/>\r\n                            {todo.checked && <span className=\"line-through\">{todo.text}</span>}{!todo.checked && <label>{todo.text}</label>}\r\n                            <button onClick={() => deleteTodo(index)}><MdRemoveCircleOutline /></button>\r\n                        </label>\r\n                    ))}\r\n                    <br />\r\n                </div>\r\n            </div>\r\n            <form onSubmit={addTodo}>\r\n            <input value={todoText} onChange={(e) => setTodoText(e.target.value) } type=\"text\" placeholder=\"Enter item here\" className=\"input input-bordered\" />\r\n            <button type=\"submit\" className=\"btn btn-outline btn-accent mt-5\">Add</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Todos\r\n","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { CredentialsContext } from '..';\r\nimport Todos from '../components/Todos';\r\n\r\nfunction Welcome() {\r\n\r\n    const [credentials] = useContext(CredentialsContext)\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"flex flex-col items-center\">\r\n                <h1 className=\"text-6xl\">Welcome {credentials && credentials.username}</h1>\r\n                {!credentials && <p className=\"py-12\">New Around here? Register <Link to='/register' className=\"underline text-secondary\">here.</Link></p>}\r\n                {!credentials && <p> Already have an account? Login <Link to='/login' className=\"underline text-secondary\">here</Link> </p>}\r\n                {credentials && <Todos />}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Welcome\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport Register from \"./pages/Register\";\r\nimport Welcome from \"./pages/Welcome\";\r\nimport Login from \"./pages/Login\";\r\n\r\nexport const CredentialsContext = React.createContext();\r\n\r\nfunction App() {\r\n  const credentialsState = useState();\r\n\r\n  return (\r\n    <div>\r\n      <CredentialsContext.Provider value={credentialsState}>\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\">\r\n              <Welcome />\r\n            </Route>\r\n            <Route exact path=\"/register\">\r\n              <Register />\r\n            </Route>\r\n            <Route exact path=\"/login\">\r\n              <Login />\r\n            </Route>\r\n          </Switch>\r\n        </Router>\r\n      </CredentialsContext.Provider>\r\n    </div>\r\n  );\r\n}\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}