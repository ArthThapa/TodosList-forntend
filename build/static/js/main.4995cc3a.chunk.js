(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{27:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t),n.d(t,"CredentialsContext",(function(){return v}));var c=n(0),s=n.n(c),a=n(18),r=n.n(a),o=(n(27),n(8)),l=n(2),i=n(4),j=n(16),d=n.n(j),u=n(19),b=n(1),h=function(){var e=Object(u.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=6;break}return e.next=3,t.json();case 3:throw n=e.sent,c=n.message,Error(c);case 6:return e.abrupt("return",t.json());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var p=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),j=r[0],d=r[1],u=Object(c.useState)(""),p=Object(i.a)(u,2),x=p[0],O=p[1],m=Object(c.useContext)(v),f=Object(i.a)(m,2)[1],N=Object(l.f)();return Object(b.jsxs)("div",{className:"flex flex-col items-center mt-14",children:[Object(b.jsx)("h1",{className:"text-6xl",children:"Login"}),Object(b.jsxs)("span",{className:"mt-5",children:["Don't have an account? Register ",Object(b.jsx)(o.b,{to:"/register",className:"underline text-secondary",children:"here"})]}),Object(b.jsx)("span",{className:"text-red-600 mt-5",children:x}),Object(b.jsxs)("div",{className:"form-control w-5/12",children:[Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Username"})}),Object(b.jsx)("input",{type:"text",placeholder:"username",className:"input input-info input-bordered",onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Password"})}),Object(b.jsx)("input",{type:"password",placeholder:"password",className:"input input-info input-bordered",onChange:function(e){return d(e.target.value)}}),Object(b.jsx)("button",{onClick:function(e){e.preventDefault(),fetch("https://todos-backend-prollyarth.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:j})}).then(h).then((function(){f({username:n,password:j}),N.push("/")})).catch((function(e){O(e.message)}))},className:"btn my-8 w-20 self-center",children:"Login"})]})]})};var x=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),j=r[0],d=r[1],u=Object(c.useState)(""),p=Object(i.a)(u,2),x=p[0],O=p[1],m=Object(c.useContext)(v),f=Object(i.a)(m,2)[1],N=Object(l.f)();return Object(b.jsxs)("div",{className:"flex flex-col items-center mt-14",children:[Object(b.jsx)("h1",{className:"text-6xl",children:"Register"}),Object(b.jsxs)("span",{className:"mt-5",children:["Already have an account? Login ",Object(b.jsx)(o.b,{to:"/login",className:"underline text-secondary",children:"here"})]}),Object(b.jsx)("span",{className:"text-red-600 mt-5",children:x}),Object(b.jsxs)("div",{className:"form-control w-5/12",children:[Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Username"})}),Object(b.jsx)("input",{type:"text",placeholder:"username",className:"input input-info input-bordered",onChange:function(e){return s(e.target.value)}}),Object(b.jsx)("label",{className:"label",children:Object(b.jsx)("span",{className:"label-text",children:"Password"})}),Object(b.jsx)("input",{type:"password",placeholder:"password",className:"input input-info input-bordered",onChange:function(e){return d(e.target.value)}}),Object(b.jsx)("button",{onClick:function(e){n&&j?(e.preventDefault(),fetch("https://todos-backend-prollyarth.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:j})}).then(h).then((function(){f({username:n,password:j}),N.push("/")})).catch((function(e){O(e.message)}))):O("Username and password should not be empty")},className:"btn my-8 w-20 self-center",children:"Register"})]})]})},O=n(13),m=n(22);var f=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)(""),r=Object(i.a)(a,2),o=r[0],l=r[1],j=Object(c.useContext)(v),d=Object(i.a)(j,1)[0];return Object(c.useEffect)((function(){fetch("https://todos-backend-prollyarth.herokuapp.com/todos",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(d.username,":").concat(d.password)}}).then((function(e){return e.json()})).then((function(e){return s(e)}))}),[]),Object(c.useEffect)((function(){fetch("https://todos-backend-prollyarth.herokuapp.com/todos",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(d.username,":").concat(d.password)},body:JSON.stringify({todos:n})}).then(h).then((function(){}))}),[n]),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{class:"p-6 card bordered shadow-lg mt-12",children:Object(b.jsxs)("div",{className:"form-control",children:[n.map((function(e,t){return Object(b.jsxs)("label",{className:"cursor-pointer label",children:[Object(b.jsx)("input",{checked:e.checked,className:"toggle",onChange:function(){return function(e){var t=Object(O.a)(n);t[e].checked=!t[e].checked,s(t)}(t)},type:"checkbox"}),e.checked&&Object(b.jsx)("span",{className:"line-through",children:e.text}),!e.checked&&Object(b.jsx)("label",{children:e.text}),Object(b.jsx)("button",{onClick:function(){return function(e){var t=Object(O.a)(n);t.splice(e,1),s(t)}(t)},children:Object(b.jsx)(m.a,{})})]})})),Object(b.jsx)("br",{})]})}),Object(b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),o){var t={checked:!1,text:o};s([].concat(Object(O.a)(n),[t])),l(""),fetch("https://todos-backend-prollyarth.herokuapp.com/todos",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(d.username,":").concat(d.password)},body:JSON.stringify({todos:n})}).then(h).then((function(){}))}},children:[Object(b.jsx)("input",{value:o,onChange:function(e){return l(e.target.value)},type:"text",placeholder:"Enter item here",className:"input input-bordered"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-outline btn-accent mt-5",children:"Add"})]})]})};var N=function(){var e=Object(c.useContext)(v),t=Object(i.a)(e,1)[0];return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"flex flex-col items-center",children:[Object(b.jsxs)("h1",{className:"text-6xl",children:["Welcome ",t&&t.username]}),!t&&Object(b.jsxs)("p",{className:"py-12",children:["New Around here? Register ",Object(b.jsx)(o.b,{to:"/register",className:"underline text-secondary",children:"here."})]}),!t&&Object(b.jsxs)("p",{children:[" Already have an account? Login ",Object(b.jsx)(o.b,{to:"/login",className:"underline text-secondary",children:"here"})," "]}),t&&Object(b.jsx)(f,{})]})})},v=s.a.createContext();function g(){var e=Object(c.useState)();return Object(b.jsx)("div",{children:Object(b.jsx)(v.Provider,{value:e,children:Object(b.jsx)(o.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",children:Object(b.jsx)(N,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/register",children:Object(b.jsx)(x,{})}),Object(b.jsx)(l.a,{exact:!0,path:"/login",children:Object(b.jsx)(p,{})})]})})})})}r.a.render(Object(b.jsx)(g,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.4995cc3a.chunk.js.map